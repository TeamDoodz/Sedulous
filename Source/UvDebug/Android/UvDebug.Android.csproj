<Project Sdk="Microsoft.NET.Sdk">
	<PropertyGroup>
		<Configuration Condition=" '$(Configuration)' == '' ">Debug</Configuration>
		<Platform Condition=" '$(Platform)' == '' ">AnyCPU</Platform>
		<TargetFramework>net6.0-android</TargetFramework>
		<SupportedOSPlatformVersion>24</SupportedOSPlatformVersion>
		<OutputType>Exe</OutputType>
		<Nullable>disable</Nullable>
		<ImplicitUsings>enable</ImplicitUsings>
		<RootNamespace>UvDebug</RootNamespace>
		<AssemblyName>UvDebug</AssemblyName>
		<FileAlignment>512</FileAlignment>
		<AndroidApplication>True</AndroidApplication>
		<GenerateSerializationAssemblies>Off</GenerateSerializationAssemblies>
		<AndroidManifest>AndroidManifest.xml</AndroidManifest>
		<AndroidEnableSGenConcurrent>true</AndroidEnableSGenConcurrent>
		<AndroidUseAapt2>true</AndroidUseAapt2>
		<IncludeSedulousContentFiles>false</IncludeSedulousContentFiles>
		<GenerateAssemblyInfo>false</GenerateAssemblyInfo>
		<GenerateTargetFrameworkAttribute>false</GenerateTargetFrameworkAttribute>
	</PropertyGroup>
	<PropertyGroup Condition=" '$(Configuration)|$(Platform)' == 'Debug|AnyCPU' ">
		<DebugSymbols>True</DebugSymbols>
		<Optimize>False</Optimize>
		<OutputPath>bin\Debug\</OutputPath>
		<DefineConstants>TRACE;DEBUG;ANDROID</DefineConstants>
		<ErrorReport>prompt</ErrorReport>
		<WarningLevel>4</WarningLevel>
		<AndroidUseSharedRuntime>True</AndroidUseSharedRuntime>
		<AndroidLinkMode>None</AndroidLinkMode>
		<EmbedAssembliesIntoApk>False</EmbedAssembliesIntoApk>
		<AotAssemblies>false</AotAssemblies>
		<EnableLLVM>false</EnableLLVM>
		<AndroidEnableProfiledAot>false</AndroidEnableProfiledAot>
		<BundleAssemblies>false</BundleAssemblies>
	</PropertyGroup>
	<PropertyGroup Condition=" '$(Configuration)|$(Platform)' == 'Release|AnyCPU' ">
		<DebugSymbols>True</DebugSymbols>
		<Optimize>True</Optimize>
		<OutputPath>bin\Release\</OutputPath>
		<DefineConstants>TRACE;ANDROID;RELEASE</DefineConstants>
		<ErrorReport>prompt</ErrorReport>
		<WarningLevel>4</WarningLevel>
		<AndroidManagedSymbols>true</AndroidManagedSymbols>
		<AndroidUseSharedRuntime>False</AndroidUseSharedRuntime>
		<AndroidLinkMode>SdkOnly</AndroidLinkMode>
		<EmbedAssembliesIntoApk>True</EmbedAssembliesIntoApk>
		<AotAssemblies>false</AotAssemblies>
		<EnableLLVM>false</EnableLLVM>
		<AndroidEnableProfiledAot>false</AndroidEnableProfiledAot>
		<BundleAssemblies>false</BundleAssemblies>
	</PropertyGroup>
	<ItemGroup>
		<Reference Include="org.libsdl.app">
			<HintPath>..\..\..\Dependencies\SDL2\Android\org.libsdl.app.dll</HintPath>
		</Reference>
	</ItemGroup>
	<ItemGroup>
		<AndroidNativeLibrary Include="..\..\..\Dependencies\BASS\Android\armeabi-v7a\libbass.so">
			<Link>lib\armeabi-v7a\libbass.so</Link>
		</AndroidNativeLibrary>
		<AndroidNativeLibrary Include="..\..\..\Dependencies\FMOD\Android\armeabi-v7a\libfmod.so">
			<Link>lib\armeabi-v7a\libfmod.so</Link>
		</AndroidNativeLibrary>
		<AndroidNativeLibrary Include="..\..\..\Dependencies\FreeType2\Android\armeabi-v7a\libfreetype.so">
			<Link>lib\armeabi-v7a\libfreetype.so</Link>
		</AndroidNativeLibrary>
		<AndroidNativeLibrary Include="..\..\..\Dependencies\FreeType2\Android\armeabi-v7a\libharfbuzz.so">
			<Link>lib\armeabi-v7a\libharfbuzz.so</Link>
		</AndroidNativeLibrary>
		<AndroidNativeLibrary Include="..\..\..\Dependencies\FreeType2\Android\armeabi-v7a\libpng16.so">
			<Link>lib\armeabi-v7a\libpng16.so</Link>
		</AndroidNativeLibrary>
		<AndroidNativeLibrary Include="..\..\..\Dependencies\ImGui\Android\armeabi-v7a\libcimgui.so">
			<Link>lib\armeabi-v7a\libcimgui.so</Link>
		</AndroidNativeLibrary>
		<AndroidNativeLibrary Include="..\..\..\Dependencies\SDL2\Android\armeabi-v7a\libSDL2.so">
			<Link>lib\armeabi-v7a\libSDL2.so</Link>
		</AndroidNativeLibrary>
		<AndroidNativeLibrary Include="..\..\..\Dependencies\SDL2\Android\armeabi-v7a\libhidapi.so">
			<Link>lib\armeabi-v7a\libhidapi.so</Link>
		</AndroidNativeLibrary>
	</ItemGroup>
	<ItemGroup>
		<AndroidNativeLibrary Include="..\..\..\Dependencies\BASS\Android\arm64-v8a\libbass.so">
			<Link>lib\arm64-v8a\libbass.so</Link>
		</AndroidNativeLibrary>
		<AndroidNativeLibrary Include="..\..\..\Dependencies\FMOD\Android\arm64-v8a\libfmod.so">
			<Link>lib\arm64-v8a\libfmod.so</Link>
		</AndroidNativeLibrary>
		<AndroidNativeLibrary Include="..\..\..\Dependencies\FreeType2\Android\arm64-v8a\libfreetype.so">
			<Link>lib\arm64-v8a\libfreetype.so</Link>
		</AndroidNativeLibrary>
		<AndroidNativeLibrary Include="..\..\..\Dependencies\FreeType2\Android\arm64-v8a\libharfbuzz.so">
			<Link>lib\arm64-v8a\libharfbuzz.so</Link>
		</AndroidNativeLibrary>
		<AndroidNativeLibrary Include="..\..\..\Dependencies\FreeType2\Android\arm64-v8a\libpng16.so">
			<Link>lib\arm64-v8a\libpng16.so</Link>
		</AndroidNativeLibrary>
		<AndroidNativeLibrary Include="..\..\..\Dependencies\ImGui\Android\arm64-v8a\libcimgui.so">
			<Link>lib\arm64-v8a\libcimgui.so</Link>
		</AndroidNativeLibrary>
		<AndroidNativeLibrary Include="..\..\..\Dependencies\SDL2\Android\arm64-v8a\libSDL2.so">
			<Link>lib\arm64-v8a\libSDL2.so</Link>
		</AndroidNativeLibrary>
		<AndroidNativeLibrary Include="..\..\..\Dependencies\SDL2\Android\arm64-v8a\libhidapi.so">
			<Link>lib\arm64-v8a\libhidapi.so</Link>
		</AndroidNativeLibrary>
	</ItemGroup>
	<ItemGroup>
		<AndroidNativeLibrary Include="..\..\..\Dependencies\BASS\Android\x86\libbass.so">
			<Link>lib\x86\libbass.so</Link>
		</AndroidNativeLibrary>
		<AndroidNativeLibrary Include="..\..\..\Dependencies\FMOD\Android\x86\libfmod.so">
			<Link>lib\x86\libfmod.so</Link>
		</AndroidNativeLibrary>
		<AndroidNativeLibrary Include="..\..\..\Dependencies\FreeType2\Android\x86\libfreetype.so">
			<Link>lib\x86\libfreetype.so</Link>
		</AndroidNativeLibrary>
		<AndroidNativeLibrary Include="..\..\..\Dependencies\FreeType2\Android\x86\libharfbuzz.so">
			<Link>lib\x86\libharfbuzz.so</Link>
		</AndroidNativeLibrary>
		<AndroidNativeLibrary Include="..\..\..\Dependencies\FreeType2\Android\x86\libpng16.so">
			<Link>lib\x86\libpng16.so</Link>
		</AndroidNativeLibrary>
		<AndroidNativeLibrary Include="..\..\..\Dependencies\ImGui\Android\x86\libcimgui.so">
			<Link>lib\x86\libcimgui.so</Link>
		</AndroidNativeLibrary>
		<AndroidNativeLibrary Include="..\..\..\Dependencies\SDL2\Android\x86\libSDL2.so">
			<Link>lib\x86\libSDL2.so</Link>
		</AndroidNativeLibrary>
		<AndroidNativeLibrary Include="..\..\..\Dependencies\SDL2\Android\x86\libhidapi.so">
			<Link>lib\x86\libhidapi.so</Link>
		</AndroidNativeLibrary>
	</ItemGroup>
	<ItemGroup>
		<AndroidNativeLibrary Include="..\..\..\Dependencies\BASS\Android\x86_64\libbass.so">
			<Link>lib\x86_64\libbass.so</Link>
		</AndroidNativeLibrary>
		<AndroidNativeLibrary Include="..\..\..\Dependencies\FMOD\Android\x86_64\libfmod.so">
			<Link>lib\x86_64\libfmod.so</Link>
		</AndroidNativeLibrary>
		<AndroidNativeLibrary Include="..\..\..\Dependencies\FreeType2\Android\x86_64\libfreetype.so">
			<Link>lib\x86_64\libfreetype.so</Link>
		</AndroidNativeLibrary>
		<AndroidNativeLibrary Include="..\..\..\Dependencies\FreeType2\Android\x86_64\libharfbuzz.so">
			<Link>lib\x86_64\libharfbuzz.so</Link>
		</AndroidNativeLibrary>
		<AndroidNativeLibrary Include="..\..\..\Dependencies\FreeType2\Android\x86_64\libpng16.so">
			<Link>lib\x86_64\libpng16.so</Link>
		</AndroidNativeLibrary>
		<AndroidNativeLibrary Include="..\..\..\Dependencies\ImGui\Android\x86_64\libcimgui.so">
			<Link>lib\x86_64\libcimgui.so</Link>
		</AndroidNativeLibrary>
		<AndroidNativeLibrary Include="..\..\..\Dependencies\SDL2\Android\x86_64\libSDL2.so">
			<Link>lib\x86_64\libSDL2.so</Link>
		</AndroidNativeLibrary>
		<AndroidNativeLibrary Include="..\..\..\Dependencies\SDL2\Android\x86_64\libhidapi.so">
			<Link>lib\x86_64\libhidapi.so</Link>
		</AndroidNativeLibrary>
	</ItemGroup>
	<ItemGroup>
		<AndroidAsset Include="Sedulous.Presentation.CompiledExpressions.dll" />
		<EmbeddedResource Include="Content.uvarc" />
	</ItemGroup>
	<ItemGroup>
		<ProjectReference Include="..\..\Sedulous.BASS\Sedulous.BASS.csproj" />
		<ProjectReference Include="..\..\Sedulous.FMOD\Sedulous.FMOD.csproj" />
		<ProjectReference Include="..\..\Sedulous.Core\Sedulous.Core.csproj" />
		<ProjectReference Include="..\..\Sedulous.FreeType2\Sedulous.FreeType2.csproj" />
		<ProjectReference Include="..\..\Sedulous.ImGuiViewProvider.Bindings\Sedulous.ImGuiViewProvider.Bindings.csproj" />
		<ProjectReference Include="..\..\Sedulous.ImGuiViewProvider\Sedulous.ImGuiViewProvider.csproj" />
		<ProjectReference Include="..\..\Sedulous.OpenGL.Bindings\Sedulous.OpenGL.Bindings.csproj" />
		<ProjectReference Include="..\..\Sedulous.OpenGL.Environment\Sedulous.OpenGL.Environment.csproj" />
		<ProjectReference Include="..\..\Sedulous.OpenGL\Sedulous.OpenGL.csproj" />
		<ProjectReference Include="..\..\Sedulous.Presentation.Uvss\Sedulous.Presentation.Uvss.csproj" />
		<ProjectReference Include="..\..\Sedulous.Presentation\Sedulous.Presentation.csproj" />
		<ProjectReference Include="..\..\Sedulous.SDL2\Sedulous.SDL2.csproj" />
		<ProjectReference Include="..\..\Sedulous.Shims.Android\Sedulous.Shims.Android.csproj" />
		<ProjectReference Include="..\..\Sedulous\Sedulous.csproj" />
	</ItemGroup>
	<Target Name="CustomBeforeBuild" BeforeTargets="BeforeBuild">
		<Message Text="Precompiling content." />
		<Exec Command="dotnet run -compile:content -compile:expressions" WorkingDirectory="$(SolutionDir)UvDebug\NETCore" />
	</Target>
	<Target Name="BeforeBuildCopyResults" AfterTargets="CustomBeforeBuild">
		<Copy SourceFiles="$(SolutionDir)UvDebug\NETCore\bin\Debug\net6.0\Content.uvarc" DestinationFolder="$(SolutionDir)UvDebug\Android" />
		<Copy SourceFiles="$(SolutionDir)UvDebug\NETCore\bin\Debug\net6.0\Sedulous.Presentation.CompiledExpressions.dll" DestinationFolder="$(SolutionDir)UvDebug\Android" />
	</Target>
	<Target Name="BeforeBuildValidation" AfterTargets="BeforeBuildCopyResults">
		<Error Condition="!Exists('Content.uvarc')" Text="Failed to generate content archive for UvDebug.Android." />
		<Error Condition="!Exists('Sedulous.Presentation.CompiledExpressions.dll')" Text="Failed to generate compiled expressions assembly for UvDebug.Android." />
	</Target>
	<Import Project="..\Shared\UvDebug.projitems" Label="Shared" />
</Project>